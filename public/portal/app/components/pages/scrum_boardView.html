<style type="text/css">
font {10px;}
</style>
<div id="page_content" class="uk-height-1-1">
    <!-- {{userProfile}} -->
    <div class="md-card">
        <div class="md-card-content">
            <h4 class="heading_a"> </h4>
            <div class="uk-grid" data-uk-grid-margin>
                <div class="uk-width-large-2-2">
                <selectize id="selec_adv_1" config="selectize_planets_config" placeholder="Choose course" options="selectize_planets_options" position="bottom" ng-model="selected_courses_ids"></selectize>
            </div>
        </div>
    </div>
</div>
<div class="uk-grid">
    <div class="uk-width-medium-6-10 uk-row-first">
        <div ng-repeat="quarter_name in quarters">
            <table class="uk-table course_plan" >
                <caption>  Quarter {{$index+1}} Credits: {{creditsInQuarter(quarter_name)}}</caption>
                <thead>
                    <tr>
                        <th> #</th>
                        <th>Name</th>
                        <th>Duration</th>
                        <th>Day of week</th>
                        <th>Location</th>
                        <th>Units</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="course in tasks_list| filter:{group:quarter_name}">
                        <td>{{course.course_number}}</td>
                        <td>{{course.course_name}}</td>
                        <td>{{course.start_date| date:'MM/dd'}} ~ {{course.end_date| date:'MM/dd'}}</td>
                        <td>{{course.start_date| date:'EEEE'}}</td>
                        <td>{{course.site_name}}</td>
                        <td>{{course.credit_hours}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="uk-width-medium-4-10"  >
        <div ng-show="statistics.credit_hours">
            <h3 class="heading_b">Statistics</h3>
            <div class="md-card">
                <div class="md-card-content" >
                    <div ng-show="statistics">
                        <p> Total hours: {{statistics.credit_hours}}</p>
                        <p> Cost: {{statistics.cost}}</p>
                    </div>
                </div>
            </div>
        </div>
        <div ng-show="tasks_list.length>0">
            <h3 class="heading_b">Warnings</h3>
            <div class="md-card">
                <div class="md-card-content" ng-show="messages.length > 0">
                    <ul ng-repeat="msg in messages">
                        <li>
                            <span class="uk-badge uk-badge-danger" >{{msg}}</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div >
            <br>
            <div ng-if="userProfile">
                <a ng-click="savePlan()" class="md-btn md-btn-primary md-btn-small md-btn-wave-light md-btn-icon waves-effect waves-button waves-light">
                    <i class="uk-icon-archive"></i>
                    Save Plan
                </a>
            </div>
            <div ng-if="userProfile==undefined">
                <a ng-click="facebookRegisteration()" class="md-btn md-btn-primary md-btn-small md-btn-wave-light md-btn-icon waves-effect waves-button waves-light">
                    <i class="uk-icon-archive"></i>
                    Login for saving course plan
                </a>
            </div>
        </div>
    </div>
    
</div>
<div class="scrum_board_overflow">
    <div id="scrum_board" class="uk-clearfix">
        <div ng-repeat="group in task_groups" >
            <div class="scrum_column_heading">{{ group.name }}</div>
            <div class="scrum_column">
                <div class="dragula dragula-vertical" dragula-scope="$parent" dragula='"tasks"' dragula-model='dragula_tasks' id="{{ group.id }}">
                    <div ng-repeat="task in tasks_list | filter: { group: group.id }">
                        <div class="scrum_task {{ task.status }}">
                            <p class="course_plan">{{ task.course_name}} </p>
                            <p class="course_plan">{{ task.start_date | date:'MM/dd H:mm EEE'}} ({{task.site_name}}),units: {{task.credit_hours}}, {{ task.course_number }} </p>
                            <input id="task_id" value="{{task.id}}" style="display: none;"></input>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
<div class="uk-modal" id="task_info">
<div class="uk-modal-dialog">
    <div class="uk-modal-header">
        <span class="uk-badge uk-badge-danger uk-float-right" ng-if="info.status == 'blocker'">BLOCKER</span>
        <span class="uk-badge uk-badge-success uk-float-right" ng-if="info.status == 'minor'">MINOR</span>
        <span class="uk-badge uk-badge-warning uk-float-right" ng-if="info.status == 'critical'">CRITICAL</span>
        <h3 class="uk-modal-title">{{ info.name }}</h3>
    </div>
    <form class="uk-form-stacked">
        <div class="uk-margin-medium-bottom">
            <p class="uk-margin-small-bottom uk-text-muted">Title</p>
            <p class="uk-margin-remove uk-text-large">{{ info.title }}</p>
        </div>
        <div class="uk-margin-medium-bottom">
            <p class="uk-margin-small-bottom uk-text-muted">Description</p>
            <p class="uk-margin-remove">{{ info.description }}</p>
        </div>
        <div class="uk-margin-medium-bottom">
            <p class="uk-margin-small-bottom uk-text-muted">Assignee</p>
            <p class="uk-margin-remove">{{ info.assignee }}</p>
        </div>
        <div class="uk-modal-footer uk-text-right">
            <button type="button" class="md-btn md-btn-flat uk-modal-close">Close</button>
        </div>
    </form>
</div>
</div>